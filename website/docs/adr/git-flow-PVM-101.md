# Поддержка canary релизов в pvm

Общая постановка звучит так: необходима возможность совершать canary релизы пакетов с целью
обкатки реализации в проектах, согласных на альфа/бета - тестирование.

## Описание реализации

#### Конфигурация
Не затрагиваем. Делаем через cli

#### CLI

```
pvm publish --canary - публикация canary релиза
```

### План работ

1. В publish для публикации берем изменившиеся с последнего релиза пакеты
2. В Repository реализуем расчет версии от предыдущего релиза, с учетом суффикса и последней опубликованной canary-версии.
3. В publish добавляем учет canary-веток и простановку тега в `npm publish`
4. В publish добавляем учет canary в логику нотификаций и отправляем нотификацию только если ветка прод. или ветка есть в списке веток с нотификацией.
Формат нотификации стандартный но с добавлением canary суффикса к имени релиза.
5. В скриптах нотификации релиза не добавляем ссылку на страницу релизов если релиз - canary, чтобы не вводить в заблуждение пользователя. 

## Минусы реализации

* На canary релизы не будет релизов в платформе из-за того, что мы не будем вызывать `pvm update`
